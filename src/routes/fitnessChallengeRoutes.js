////////// SECTION A //////////

const express = require("express");
const router = express.Router();
const controller = require("../controllers/fitnessChallengeController");

//////////////////////////////////////////////////////////////
///////////////////////////// 4 //////////////////////////////
//////////////////////////////////////////////////////////////
router.post("/", controller.createNewChallenge);

//////////////////////////////////////////////////////////////
///////////////////////////// 5 //////////////////////////////
//////////////////////////////////////////////////////////////
router.get("/", controller.readAllChallenges);

//////////////////////////////////////////////////////////////
///////////////////////////// 6 //////////////////////////////
//////////////////////////////////////////////////////////////
router.put(
  "/:challenge_id",
  controller.checkChallengeId,
  controller.checkCreatorId,
  controller.updateChallengeByChallengeId
);

//////////////////////////////////////////////////////////////
///////////////////////////// 7 //////////////////////////////
//////////////////////////////////////////////////////////////
router.delete(
  "/:challenge_id",
  controller.checkChallengeId,
  controller.deleteChallengeByChallengeId
);

//////////////////////////////////////////////////////////////
///////////////////////////// 8 //////////////////////////////
//////////////////////////////////////////////////////////////
router.post(
  "/:challenge_id",
  controller.checkUserId,
  controller.checkChallengeId,
  controller.createCompletionRecordByChallengeId,
  controller.awardSkillpoints
);

//////////////////////////////////////////////////////////////
///////////////////////////// 9 //////////////////////////////
//////////////////////////////////////////////////////////////
router.get("/:challenge_id", controller.readParticipantsByChallengeId);

///// exporting /////
module.exports = router;

//////////////////////////////////////////////////////////////
//////////////////////////// DONE! ///////////////////////////
//////////////////////////////////////////////////////////////
 